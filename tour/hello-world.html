<p class="lead">
  Let&#39;s see how Bridge works, shall we?
</p>

<h2 id="initial-commands">Initial commands</h2>
<p>The first thing we&#39;ll do is make sure we can start up the server and see something in the browser without issues:</p>
<pre><code class="lang-bash">$ dart bridge
</code></pre>
<pre><code class="lang-bridge-cli">= start
Server started on http://localhost:1337
=
</code></pre>
<p>Open <a href="http://localhost:1337">the URL</a> and you should see the Bridge logo.</p>
<p>Next, we want the program to restart when we change any source file. To do that, we can run the <code>watch</code> command.
However, after the restart the server will have stopped. To change what commands will be run on each restart, we have
to provide them in the argument list of the <code>dart bridge</code> command.</p>
<p>To start the server, and restart both the program and the server on each file change, we can run this command:</p>
<pre><code class="lang-bash">$ dart bridge start, watch
</code></pre>
<h2 id="hello-world">Hello World</h2>
<p>When that&#39;s done, we can go into the project and change what we see in the browser.</p>
<p>Go to the file <code>lib/main/main.dart</code>. Your file might look a little different, but this is the gist of it. Focus on the 
<code>routes</code> method on the <code>Main</code> class:</p>
<pre><code class="lang-dart">// lib/main/main.dart

...

class Main {
  PagesController controller;

  Main(this.controller);

  routes(Router router) {
    router.get(&#39;/&#39;, controller.index).named(&#39;index&#39;);
  }
}
</code></pre>
<p>Right now, a <code>PagesController</code> is injected in the <code>Main</code> class constructor. The <code>routes</code> method registers a route that
listens for <code>GET</code> requests on the root (<code>/</code>) uri. The second argument in the call is the function that will respond to
each request. Here we&#39;re delegating that to an <code>index</code> method on the controller. Finally, it&#39;s naming the route <code>index</code>.</p>
<p>Let&#39;s change this up a bit by creating our own route:</p>
<pre><code class="lang-dart">routes(Router router) {
  router.get(&#39;/&#39;, () {
    return &#39;Hello, World!&#39;;
  });
}
</code></pre>
<p>Save the file and reload the browser, you should now see &quot;Hello, World!&quot; there!</p>
<p>But returning simple values isn&#39;t really what we want, right? Let&#39;s change the closure to return a template:</p>
<pre><code class="lang-dart">routes(Router router) {
  router.get(&#39;/&#39;, () {
    return template(&#39;index&#39;);
  });
}
</code></pre>
<hr>
<p>If you go back to the browser now, we&#39;ll once again see the Bridge logo. So let&#39;s find that template!</p>
<pre><code class="lang-chalk">// lib/templates/index.chalk.html

@extends (&#39;app&#39;)

@start block (&#39;content&#39;)
  ... // There&#39;s a bunch of HTML here
@end block
</code></pre>
<p>What you&#39;re seeing here is a Chalk template. Chalk is Bridge&#39;s server side templating engine. Let&#39;s just replace
everything in this file with some basic html:</p>
<pre><code class="lang-chalk">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;&lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello again, World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>The browser should not contain any surprises right now. Just a heading with the message. But we can do loads of cool
stuff here! For example, try this:</p>
<pre><code class="lang-chalk">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;&lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;1 + 1 = ${1 + 1}&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<blockquote>
<p><strong>Note:</strong> If you want to learn more about Chalk, go <a href="/docs/bridge.view/chalk">here</a>!</p>
</blockquote>
